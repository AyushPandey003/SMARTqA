{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4 pb-32 md:pb-8">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12">
        <!-- Image Gallery -->
        <div class="flex flex-col gap-4">
            <div class="relative aspect-square w-full overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800">
                <img src="{{ product.image_url }}" alt="{{ product.name }}"
                    class="h-full w-full object-cover object-center">
            </div>
            <div class="grid grid-cols-4 gap-4">
                <!-- Mock Thumbnails (using same image for now) -->
                <div
                    class="aspect-square cursor-pointer overflow-hidden rounded-lg bg-zinc-100 dark:bg-zinc-800 ring-2 ring-primary ring-offset-2 ring-offset-white dark:ring-offset-zinc-900">
                    <img src="{{ product.image_url }}" alt="Thumbnail 1"
                        class="h-full w-full object-cover object-center">
                </div>
                <div
                    class="aspect-square cursor-pointer overflow-hidden rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:opacity-75">
                    <img src="{{ product.image_url }}" alt="Thumbnail 2"
                        class="h-full w-full object-cover object-center">
                </div>
                <div
                    class="aspect-square cursor-pointer overflow-hidden rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:opacity-75">
                    <img src="{{ product.image_url }}" alt="Thumbnail 3"
                        class="h-full w-full object-cover object-center">
                </div>
                <div
                    class="aspect-square cursor-pointer overflow-hidden rounded-lg bg-zinc-100 dark:bg-zinc-800 hover:opacity-75">
                    <img src="{{ product.image_url }}" alt="Thumbnail 4"
                        class="h-full w-full object-cover object-center">
                </div>
            </div>
        </div>

        <!-- Product Information -->
        <div class="flex flex-col gap-6">
            <div>
                <p class="text-base font-normal leading-normal text-zinc-500 dark:text-zinc-400">By SmartQA Brand</p>
                <h1 class="pt-2 pb-2 text-4xl font-bold tracking-tight text-zinc-900 dark:text-white">{{ product.name }}
                </h1>
                <div class="flex items-center gap-2">
                    <div class="flex items-center text-primary">
                        <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">star</span>
                        <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">star</span>
                        <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">star</span>
                        <span class="material-symbols-outlined" style="font-variation-settings: 'FILL' 1;">star</span>
                        <span class="material-symbols-outlined">star_half</span>
                    </div>
                    <span class="text-sm text-zinc-600 dark:text-zinc-300">4.5 (124 reviews)</span>
                </div>
                <p class="mt-4 text-4xl font-bold text-zinc-900 dark:text-white">${{ "%.2f"|format(product.price) }}</p>
            </div>

            <!-- Variant Selectors -->
            <div>
                <h3 class="mb-2 text-lg font-semibold text-zinc-900 dark:text-white">Color</h3>
                <div class="flex items-center gap-3">
                    <button
                        class="h-10 w-10 rounded-full bg-zinc-800 ring-2 ring-primary ring-offset-2 ring-offset-white dark:ring-offset-zinc-900"></button>
                    <button
                        class="h-10 w-10 rounded-full bg-zinc-300 hover:ring-2 hover:ring-zinc-400 hover:ring-offset-2 hover:ring-offset-white dark:hover:ring-offset-zinc-900"></button>
                    <button
                        class="h-10 w-10 rounded-full bg-amber-800 hover:ring-2 hover:ring-amber-900 hover:ring-offset-2 hover:ring-offset-white dark:hover:ring-offset-zinc-900"></button>
                    <button
                        class="h-10 w-10 rounded-full bg-emerald-700 hover:ring-2 hover:ring-emerald-800 hover:ring-offset-2 hover:ring-offset-white dark:hover:ring-offset-zinc-900"></button>
                </div>
            </div>

            <!-- Add to Cart (Desktop) -->
            <div class="hidden md:flex items-center gap-4 pt-4">
                <a href="{{ url_for('add_to_cart', product_id=product.id) }}"
                    class="flex h-12 flex-1 items-center justify-center rounded-lg bg-primary text-base font-bold text-zinc-900 transition-colors hover:bg-primary/90">
                    Add to Cart
                </a>
                <button
                    class="flex h-12 w-12 items-center justify-center rounded-lg border border-zinc-200 text-zinc-900 hover:bg-zinc-50 dark:border-zinc-700 dark:text-white dark:hover:bg-zinc-800">
                    <span class="material-symbols-outlined">favorite_border</span>
                </button>
            </div>

            <!-- Accordion Section -->
            <div class="mt-6 flex flex-col gap-2">
                <div class="border-b border-zinc-200 dark:border-zinc-700">
                    <details class="group p-4" open="">
                        <summary class="flex cursor-pointer list-none items-center justify-between">
                            <h3 class="text-lg font-semibold text-zinc-900 dark:text-white">Product Description</h3>
                            <span
                                class="material-symbols-outlined text-zinc-600 transition-transform duration-300 group-open:rotate-180 dark:text-zinc-300">expand_more</span>
                        </summary>
                        <p class="mt-4 text-zinc-600 dark:text-zinc-300">{{ product.description }}</p>
                    </details>
                </div>
                <div class="border-b border-zinc-200 dark:border-zinc-700">
                    <details class="group p-4">
                        <summary class="flex cursor-pointer list-none items-center justify-between">
                            <h3 class="text-lg font-semibold text-zinc-900 dark:text-white">Specifications</h3>
                            <span
                                class="material-symbols-outlined text-zinc-600 transition-transform duration-300 group-open:rotate-180 dark:text-zinc-300">expand_more</span>
                        </summary>
                        <ul class="mt-4 list-disc space-y-1 pl-5 text-zinc-600 dark:text-zinc-300">
                            <li>Material: Premium Cotton Blend</li>
                            <li>Fit: Regular Fit</li>
                            <li>Care: Machine Washable</li>
                            <li>Imported</li>
                        </ul>
                    </details>
                </div>
                <div class="border-b border-zinc-200 dark:border-zinc-700">
                    <details class="group p-4">
                        <summary class="flex cursor-pointer list-none items-center justify-between">
                            <h3 class="text-lg font-semibold text-zinc-900 dark:text-white">Customer Reviews</h3>
                            <span
                                class="material-symbols-outlined text-zinc-600 transition-transform duration-300 group-open:rotate-180 dark:text-zinc-300">expand_more</span>
                        </summary>
                        <div class="pt-4">
                            <div class="flex items-center gap-2">
                                <div class="flex text-primary">
                                    <span class="material-symbols-outlined text-lg"
                                        style="font-variation-settings: 'FILL' 1;">star</span>
                                    <span class="material-symbols-outlined text-lg"
                                        style="font-variation-settings: 'FILL' 1;">star</span>
                                    <span class="material-symbols-outlined text-lg"
                                        style="font-variation-settings: 'FILL' 1;">star</span>
                                    <span class="material-symbols-outlined text-lg"
                                        style="font-variation-settings: 'FILL' 1;">star</span>
                                    <span class="material-symbols-outlined text-lg"
                                        style="font-variation-settings: 'FILL' 1;">star_half</span>
                                </div>
                                <p class="text-sm font-medium text-zinc-900 dark:text-white">4.5 out of 5</p>
                            </div>
                            <p class="mt-2 text-sm text-zinc-600 dark:text-zinc-400">Based on 124 reviews</p>
                        </div>
                    </details>
                </div>
            </div>
        </div>
    </div>

    <!-- You Might Also Like -->
    <div class="mt-16">
        <h2 class="mb-6 px-4 text-2xl font-bold text-zinc-900 dark:text-white">You Might Also Like</h2>
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4">
            <!-- Mock Related Products -->
            <div class="group flex flex-col gap-2">
                <div class="overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800">
                    <div class="h-64 bg-cover bg-center transition-transform duration-300 group-hover:scale-105"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBEqrvSzMfvg1uttfLVnLTk_RO5AhT2qPKO6s0-vByWniEfgw71eLpChvcdcfMicHp2jnDctxJkhBo2B2upziuTpkiydIl8vNiiPnda8zJs7I3HGIsXth_vkP_AoblY89_fVvlwjEu_UYqkxM2wAe48m-N-dQ6tILTFCzd79SlqvoY6STyrRR8B1PKIIP0lx6Wnx164gageAn6aEVZzm83WVX13i56z90qA0RrBFkk5SJhAiFJs5-qsf7QElrLIRiqMeB5E9slPWA')">
                    </div>
                </div>
                <h3 class="font-semibold text-zinc-900 dark:text-white">Minimalist Wall Clock</h3>
                <p class="font-bold text-zinc-900 dark:text-white">$45.00</p>
            </div>
            <div class="group flex flex-col gap-2">
                <div class="overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800">
                    <div class="h-64 bg-cover bg-center transition-transform duration-300 group-hover:scale-105"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuB78cHcMGk6IicuZqJC7cqNzUDPZZq6_GMuJOngXf8rmhiTMOmC8nLjpvn5_c3muP931G7wh2cC_hoIZIWwIka5ksSJVPMKuLWuZ_9zC4xWTz2eo3b3pKeVQdTz0CH7_nMMHf6ys8TOll2ygNzogwknaQJceZLi1XUhE8Lko69ByH_Xlk4VvwrR2na8PMjnkduQgSypE6ksxsMBB-Uvw7nfypSm52hys9I2JCQRXyVOALlicAK19M9_itRUEkeLyJR7_T0nJlP6Aw')">
                    </div>
                </div>
                <h3 class="font-semibold text-zinc-900 dark:text-white">Ceramic Planter Set</h3>
                <p class="font-bold text-zinc-900 dark:text-white">$59.00</p>
            </div>
            <div class="group flex flex-col gap-2">
                <div class="overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800">
                    <div class="h-64 bg-cover bg-center transition-transform duration-300 group-hover:scale-105"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuAOb3me6pfpX9yI0pNz-fhzuc_1KY212MrbQ_XGiyf0d-YYUcvbRCKdsAxg2oLbQ2Mn6AXwWZaf7mgW6JuUjO6yPFBwaSqGkKd61yP8f7qdgqgxX_X5DrFFiN2qEXmTrDEMa0vcNd4KA5MaDsfmnZ3VzGfvnfyBBUpjtYFqdYbWnzPcqugetpYRxaN2L9W3yF5DtMy1xmgdrUuk_D0R06oohw-EvccdxIZMM25nPvfNNtObXMm5RIkwB2iMVsk5nBtDVddHWxnMdg')">
                    </div>
                </div>
                <h3 class="font-semibold text-zinc-900 dark:text-white">Velvet Accent Sofa</h3>
                <p class="font-bold text-zinc-900 dark:text-white">$349.00</p>
            </div>
            <div class="group flex flex-col gap-2">
                <div class="overflow-hidden rounded-xl bg-zinc-100 dark:bg-zinc-800">
                    <div class="h-64 bg-cover bg-center transition-transform duration-300 group-hover:scale-105"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuCimdC4P2zTMev1dWrHU4Fwu2urbOpbNjaL1gsCe2b5dMh_-daqxZLwgX_FY_CG9HZ3uXtIKo9bMfBb8IN9eORtsaW5-7begOQtJA7UX4zR19Y_MnASvdhfRtzxbbeY_FpfuC0iedGq9FektqfAACSPh27NdGVP5NlKsNTkFl5RGpSvx5q4ExYPRSLi1SCwBvo0hubsih4PcMceBLmMIrehENhymGLhWBgHXsniqbZRkHbiN6t4di1CAXh1FJtlcUTyHj3GDGC7XA')">
                    </div>
                </div>
                <h3 class="font-semibold text-zinc-900 dark:text-white">Textured Throw Blanket</h3>
                <p class="font-bold text-zinc-900 dark:text-white">$65.00</p>
            </div>
        </div>
    </div>
</div>

<!-- Sticky Add to Cart Footer (Mobile) -->
<div
    class="fixed bottom-0 left-0 right-0 z-20 w-full border-t border-zinc-200 bg-background-light/80 p-4 backdrop-blur-sm dark:border-zinc-700 dark:bg-background-dark/80 md:hidden">
    <div class="mx-auto flex max-w-7xl items-center gap-4">
        <div
            class="flex items-center gap-2 rounded-lg border border-zinc-300 bg-white p-2 dark:border-zinc-600 dark:bg-zinc-800">
            <button
                class="flex h-8 w-8 items-center justify-center text-zinc-500 hover:text-primary dark:text-zinc-400">
                <span class="material-symbols-outlined">remove</span>
            </button>
            <span class="w-6 text-center font-bold text-zinc-800 dark:text-white">1</span>
            <button
                class="flex h-8 w-8 items-center justify-center text-zinc-500 hover:text-primary dark:text-zinc-400">
                <span class="material-symbols-outlined">add</span>
            </button>
        </div>
        <a href="{{ url_for('add_to_cart', product_id=product.id) }}"
            class="flex h-12 flex-1 items-center justify-center rounded-lg bg-primary font-bold text-zinc-900 transition-colors hover:bg-primary/90">
            Add to Cart
        </a>
    </div>
</div>
{% endblock %}